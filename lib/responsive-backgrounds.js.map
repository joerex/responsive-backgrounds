{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 856ee3c21b07cbef1b15","webpack:///./src/index.js"],"names":["ResponsiveBackgrounds","selector","currentBreakpoint","resizeDebounceTime","resizeTimeout","processCoverBackgrounds","document","addEventListener","clearTimeout","setTimeout","images","querySelectorAll","i","length","sources","getElSources","src","getBgSource","clientWidth","setSource","element","getAttribute","push","url","breakpoint","Error","elWidth","el","style","backgroundImage"],"mappings":"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","file":"responsive-backgrounds.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ResponsiveBackgrounds\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ResponsiveBackgrounds\"] = factory();\n\telse\n\t\troot[\"ResponsiveBackgrounds\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 856ee3c21b07cbef1b15","\nexport default class ResponsiveBackgrounds {\n\n  constructor(selector) {\n    this.currentBreakpoint = null;\n    this.selector = selector || '.cover';\n    this.resizeDebounceTime = 20;\n    this.resizeTimeout = null;\n    // process cover images on page load\n    this.processCoverBackgrounds();\n    // update cover images on browser resize\n    document.addEventListener('resize', () => {\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = setTimeout(() => {\n        this.processCoverBackgrounds();\n      }, this.resizeDebounceTime);\n    });\n  }\n\n  processCoverBackgrounds() {\n    // get all of the cover images that need to be processed\n    let images = document.querySelectorAll(this.selector);\n\n    // process all cover images\n    for (let i = 0; i < images.length; i++) {\n      let sources = this.getElSources(images[i]);\n      let src = this.getBgSource(sources, images[i].clientWidth);\n      this.setSource(images[i], src);\n    }\n  }\n\n  getElSources(element) {\n    let sources = [];\n    if (element.getAttribute('data-src-xxs'))\n      sources.push({url: element.getAttribute('data-src-xxs'), breakpoint: 320});\n    if (element.getAttribute('data-src-xs'))\n      sources.push({url: element.getAttribute('data-src-xs'), breakpoint: 480});\n    if (element.getAttribute('data-src-sm'))\n      sources.push({url: element.getAttribute('data-src-sm'), breakpoint: 768});\n    if (element.getAttribute('data-src-md'))\n      sources.push({url: element.getAttribute('data-src-md'), breakpoint: 992});\n    if (element.getAttribute('data-src-lg'))\n      sources.push({url: element.getAttribute('data-src-lg'), breakpoint: 1200});\n    if (sources.length === 0)\n      throw new Error('No sources found on cover element:', element);\n    else\n      return sources;\n  }\n\n  getBgSource(sources, elWidth) {\n    // find the smallest source that will cover the elements width\n    for (let i = 0; i < sources.length; i++) {\n      if (sources[i].breakpoint >= elWidth) {\n        return sources[i];\n      }\n      else if (i + 1 === sources.length) {\n        // there is not a source large enough\n        return sources[i];\n      }\n    }\n  }\n\n  setSource(el, src) {\n    if (!this.currentBreakpoint || src.breakpoint > this.currentBreakpoint) {\n      el.style.backgroundImage = 'url(' + src.url + ')';\n      this.currentBreakpoint = src.breakpoint;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}