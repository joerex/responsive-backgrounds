{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4c016294bf1b3b30b515","webpack:///./src/index.js"],"names":["ResponsiveBackgrounds","selector","options","Array","usingSelector","elements","Object","defaultOptions","xxs","xs","sm","md","lg","xl","assign","currentBreakpoints","resizeDebounceTime","resizeTimeout","processCoverBackgrounds","window","addEventListener","clearTimeout","setTimeout","images","document","querySelectorAll","i","length","sources","getElSources","src","getBgSource","clientWidth","setSource","element","getAttribute","push","url","breakpoint","Error","elWidth","el","style","backgroundImage"],"mappings":"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","file":"responsive-backgrounds.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ResponsiveBackgrounds\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ResponsiveBackgrounds\"] = factory();\n\telse\n\t\troot[\"ResponsiveBackgrounds\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4c016294bf1b3b30b515","\nexport default class ResponsiveBackgrounds {\n\n  constructor(selector = '.cover', options = {}) {\n    if (selector instanceof Array) {\n      this.usingSelector = false;\n      this.elements = selector;\n      selector = null;\n    }\n    else {\n      this.usingSelector = true;\n    }\n    if (selector instanceof Object) {\n      options = selector;\n      selector = '.cover';\n    }\n    let defaultOptions = {xxs: 320, xs: 480, sm: 640, md: 768, lg: 1200, xl: 1920};\n    this.selector = selector;\n    this.options = Object.assign(defaultOptions, options);\n    this.currentBreakpoints = [];\n    this.resizeDebounceTime = 20;\n    this.resizeTimeout = null;\n    // process cover images on page load\n    this.processCoverBackgrounds();\n    // update cover images on browser resize\n    window.addEventListener('resize', () => {\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = setTimeout(() => {\n        this.processCoverBackgrounds();\n      }, this.resizeDebounceTime);\n    });\n  }\n\n  processCoverBackgrounds() {\n    // get all of the cover images that need to be processed\n    let images = this.usingSelector ? document.querySelectorAll(this.selector) : this.elements;\n\n    // process all cover images\n    for (let i = 0; i < images.length; i++) {\n      let sources = this.getElSources(images[i]);\n      let src = this.getBgSource(sources, images[i].clientWidth);\n      this.setSource(images[i], src, i);\n    }\n  }\n\n  getElSources(element) {\n    let sources = [];\n    if (element.getAttribute('data-src-xxs'))\n      sources.push({url: element.getAttribute('data-src-xxs'), breakpoint: this.options.xxs});\n    if (element.getAttribute('data-src-xs'))\n      sources.push({url: element.getAttribute('data-src-xs'), breakpoint: this.options.xs});\n    if (element.getAttribute('data-src-sm'))\n      sources.push({url: element.getAttribute('data-src-sm'), breakpoint: this.options.sm});\n    if (element.getAttribute('data-src-md'))\n      sources.push({url: element.getAttribute('data-src-md'), breakpoint: this.options.md});\n    if (element.getAttribute('data-src-lg'))\n      sources.push({url: element.getAttribute('data-src-lg'), breakpoint: this.options.lg});\n    if (element.getAttribute('data-src-xl'))\n      sources.push({url: element.getAttribute('data-src-xl'), breakpoint: this.options.xl});\n    if (sources.length === 0)\n      throw new Error('No sources found on cover element:', element);\n    else\n      return sources;\n  }\n\n  getBgSource(sources, elWidth) {\n    // find the smallest source that will cover the elements width\n    for (let i = 0; i < sources.length; i++) {\n      if (sources[i].breakpoint >= elWidth) {\n        return sources[i];\n      }\n      else if (i + 1 === sources.length) {\n        // there is not a source large enough\n        return sources[i];\n      }\n    }\n  }\n\n  setSource(el, src, i) {\n    if (!this.currentBreakpoints[i] || src.breakpoint > this.currentBreakpoints[i]) {\n      el.style.backgroundImage = 'url(' + src.url + ')';\n      this.currentBreakpoints[i] = src.breakpoint;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}